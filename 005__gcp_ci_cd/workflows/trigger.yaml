main:
  params: [args]
  steps:
    - init:
        assign:
          - project: ${sys.get_env("GOOGLE_CLOUD_PROJECT_ID")}
          - topic: "topic_project_005"

    - pubSubRequest:
        call: googleapis.pubsub.v1.projects.topics.publish
        args:
          topic: ${"projects/" + project + "/topics/" + topic}
          body:
            messages:
              - data: "trigger-workflows-to-pub/sub 1"
                messageId: "1"
              - data: "trigger-workflows-to-pub/sub 2"
                messageId: "2"

    # - cloudRunRequest:
    #     call: http_request
    #     args:
    #       method: POST
    #       url: https://your-cloud-run-service-url/v1/logs
    #       auth:
    #         type: OIDC
    #       headers:
    #         Content-Type: application/json
    #       body:
    #         message: "8:08"

    # - cloudFunctionsRequest:
    #     call: http_request
    #     args:
    #       method: POST
    #       url: https://your-cloud-run-service-url/v1/logs
    #       auth:
    #         type: OIDC
    #       headers:
    #         Content-Type: application/json
    #       body:
    #         message: "8:08"
